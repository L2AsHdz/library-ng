<form name="userForm" #form="ngForm" (ngSubmit)="form.valid && onSubmit()">
  <div class="grid">
    <div class="col flex flex-column gap-2">
      <label for="fullname">Full Name</label>
      <input pInputText id="fullname" name="fullname" #fullname="ngModel" [(ngModel)]="user.fullName"
              required maxlength="150" minlength="3" />
      <app-input-validation [control]="fullname" [form]="form"
                            [errDef]="{
                              required: 'Full name is required',
                              minlength: 'Full name must be at least 3 characters',
                              maxlength: 'Full name must be less than 150 characters'
                            }"/>
    </div>
    <div class="col flex flex-column gap-2">
      <label for="email">Email</label>
      <input pInputText id="email" name="email" aria-describedby="email-help" [(ngModel)]="user.email" [pattern]="emailRegex" #email="ngModel" required  minlength="3" />
      <app-input-validation [control]="email" [form]="form"
                            [errDef]="{
                              required: 'Email is required',
                              minlength: 'Email must be at least 3 characters',
                              pattern: 'Email is not valid'
                            }"/>
    </div>
    <div class="p-fluid col flex flex-column gap-2">
      <label for="birthdate">Birthdate</label>
      <p-calendar [(ngModel)]="user.birthDate" [showIcon]="true" #birthdate="ngModel" name="birthdate" id="birthdate" [required]="true" appendTo="body"/>

      <app-input-validation [control]="birthdate" [form]="form"
                            [errDef]="{
                              required: 'Birthdate is required'
                            }"/>
    </div>
  </div>
  <div class="grid">
    <div class="col flex flex-column gap-2 p-fluid">
      <label for="role">Role</label>
      <p-dropdown id="role" name="role" [options]="roles" [(ngModel)]="user.userRole" #role="ngModel" [pattern]="roleRegex"
                  [showClear]="true" placeholder="Select a Role" [required]="true" appendTo="body" />
      <app-input-validation [control]="role" [form]="form"
                            [errDef]="{
                              required: 'Role is required',
                              pattern: 'Role is not valid'
                            }"/>
    </div>
    <div class="col flex flex-column gap-2">
      <label for="username">Username</label>
      <input pInputText id="username" name="username" aria-describedby="username-help" #username="ngModel" [(ngModel)]="user.username"
             required maxlength="50"  minlength="3" />
      <app-input-validation [control]="username" [form]="form"
                            [errDef]="{
                              required: 'Username is required',
                              minlength: 'Username must be at least 3 characters',
                              maxlength: 'Username must be less than 50 characters'
                            }"/>
    </div>
  </div>
  <div class="flex justify-content-end">
    <p-button label="{{labelButton}}" type="submit" icon="pi pi-save"/>
  </div>
</form>
